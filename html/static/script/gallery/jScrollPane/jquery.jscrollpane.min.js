/*!
 * jScrollPane - v2.0.23 - 2016-01-28
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
define("gallery/jScrollPane/jquery.jscrollpane.min",["$","./jquery.mousewheel.js","./jquery.jscrollpane.css"],function(a){var c=a("$");c.fn.jScrollPane=function(a){function b(a,b){function S(b){var e,p,q,s,t,v,w=!1,x=!1;if(d=b,void 0===f)t=a.scrollTop(),v=a.scrollLeft(),a.css({overflow:"hidden",padding:0}),g=a.innerWidth()+K,h=a.innerHeight(),a.width(g),f=c('<div class="jspPane" />').css("padding",J).append(a.children()),i=c('<div class="jspContainer" />').css({width:g+"px",height:h+"px"}).append(f).appendTo(a);else{if(a.css("width",""),w=d.stickToBottom&&nb(),x=d.stickToRight&&ob(),s=a.innerWidth()+K!=g||a.outerHeight()!=h,s&&(g=a.innerWidth()+K,h=a.innerHeight(),i.css({width:g+"px",height:h+"px"})),!s&&L==j&&f.outerHeight()==k)return a.width(g),void 0;L=j,f.css("width",""),a.width(g),i.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}f.css("overflow","auto"),j=b.contentWidth?b.contentWidth:f[0].scrollWidth,k=f[0].scrollHeight,f.css("overflow",""),l=j/g,m=k/h,n=m>1,o=l>1,o||n?(a.addClass("jspScrollable"),e=d.maintainPosition&&(r||u),e&&(p=lb(),q=mb()),T(),V(),X(),e&&(jb(x?j-g:p,!1),ib(w?k-h:q,!1)),sb(),pb(),yb(),d.enableKeyboardNavigation&&ub(),d.clickOnTrack&&_(),wb(),d.hijackInternalLinks&&xb()):(a.removeClass("jspScrollable"),f.css({top:0,left:0,width:i.width()-K}),qb(),tb(),vb(),ab()),d.autoReinitialise&&!I?I=setInterval(function(){S(d)},d.autoReinitialiseDelay):!d.autoReinitialise&&I&&clearInterval(I),t&&a.scrollTop(0)&&ib(t,!1),v&&a.scrollLeft(0)&&jb(v,!1),a.trigger("jsp-initialised",[o||n])}function T(){n&&(i.append(c('<div class="jspVerticalBar" />').append(c('<div class="jspCap jspCapTop" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragTop" />'),c('<div class="jspDragBottom" />'))),c('<div class="jspCap jspCapBottom" />'))),v=i.find(">.jspVerticalBar"),w=v.find(">.jspTrack"),p=w.find(">.jspDrag"),d.showArrows&&(A=c('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",Z(0,-1)).bind("click.jsp",rb),B=c('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",Z(0,1)).bind("click.jsp",rb),d.arrowScrollOnHover&&(A.bind("mouseover.jsp",Z(0,-1,A)),B.bind("mouseover.jsp",Z(0,1,B))),Y(w,d.verticalArrowPositions,A,B)),y=h,i.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){y-=c(this).outerHeight()}),p.hover(function(){p.addClass("jspHover")},function(){p.removeClass("jspHover")}).bind("mousedown.jsp",function(a){c("html").bind("dragstart.jsp selectstart.jsp",rb),p.addClass("jspActive");var b=a.pageY-p.position().top;return c("html").bind("mousemove.jsp",function(a){cb(a.pageY-b,!1)}).bind("mouseup.jsp mouseleave.jsp",bb),!1}),U())}function U(){w.height(y+"px"),r=0,x=d.verticalGutter+w.outerWidth(),f.width(g-x-K);try{0===v.position().left&&f.css("margin-left",x+"px")}catch(a){}}function V(){o&&(i.append(c('<div class="jspHorizontalBar" />').append(c('<div class="jspCap jspCapLeft" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragLeft" />'),c('<div class="jspDragRight" />'))),c('<div class="jspCap jspCapRight" />'))),C=i.find(">.jspHorizontalBar"),D=C.find(">.jspTrack"),s=D.find(">.jspDrag"),d.showArrows&&(G=c('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",Z(-1,0)).bind("click.jsp",rb),H=c('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",Z(1,0)).bind("click.jsp",rb),d.arrowScrollOnHover&&(G.bind("mouseover.jsp",Z(-1,0,G)),H.bind("mouseover.jsp",Z(1,0,H))),Y(D,d.horizontalArrowPositions,G,H)),s.hover(function(){s.addClass("jspHover")},function(){s.removeClass("jspHover")}).bind("mousedown.jsp",function(a){c("html").bind("dragstart.jsp selectstart.jsp",rb),s.addClass("jspActive");var b=a.pageX-s.position().left;return c("html").bind("mousemove.jsp",function(a){eb(a.pageX-b,!1)}).bind("mouseup.jsp mouseleave.jsp",bb),!1}),E=i.innerWidth(),W())}function W(){i.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){E-=c(this).outerWidth()}),D.width(E+"px"),u=0}function X(){if(o&&n){var a=D.outerHeight(),b=w.outerWidth();y-=a,c(C).find(">.jspCap:visible,>.jspArrow").each(function(){E+=c(this).outerWidth()}),E-=b,h-=b,g-=a,D.parent().append(c('<div class="jspCorner" />').css("width",a+"px")),U(),W()}o&&f.width(i.outerWidth()-K+"px"),k=f.outerHeight(),m=k/h,o&&(F=Math.ceil(1/l*E),F>d.horizontalDragMaxWidth?F=d.horizontalDragMaxWidth:F<d.horizontalDragMinWidth&&(F=d.horizontalDragMinWidth),s.width(F+"px"),t=E-F,fb(u)),n&&(z=Math.ceil(1/m*y),z>d.verticalDragMaxHeight?z=d.verticalDragMaxHeight:z<d.verticalDragMinHeight&&(z=d.verticalDragMinHeight),p.height(z+"px"),q=y-z,db(r))}function Y(a,b,c,d){var g,e="before",f="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==e?f=b:b==f&&(e=b,g=c,c=d,d=g),a[e](c)[f](d)}function Z(a,b,c){return function(){return $(a,b,this,c),this.blur(),!1}}function $(a,b,f,g){f=c(f).addClass("jspActive");var h,i,j=!0,k=function(){0!==a&&e.scrollByX(a*d.arrowButtonSpeed),0!==b&&e.scrollByY(b*d.arrowButtonSpeed),i=setTimeout(k,j?d.initialDelay:d.arrowRepeatFreq),j=!1};k(),h=g?"mouseout.jsp":"mouseup.jsp",g=g||c("html"),g.bind(h,function(){f.removeClass("jspActive"),i&&clearTimeout(i),i=null,g.unbind(h)})}function _(){ab(),n&&w.bind("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var i,b=c(this),f=b.offset(),g=a.pageY-f.top-r,j=!0,l=function(){var c=b.offset(),f=a.pageY-c.top-z/2,n=h*d.scrollPagePercent,o=q*n/(k-h);if(0>g)r-o>f?e.scrollByY(-n):cb(f);else{if(!(g>0))return m(),void 0;f>r+o?e.scrollByY(n):cb(f)}i=setTimeout(l,j?d.initialDelay:d.trackClickRepeatFreq),j=!1},m=function(){i&&clearTimeout(i),i=null,c(document).unbind("mouseup.jsp",m)};return l(),c(document).bind("mouseup.jsp",m),!1}}),o&&D.bind("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var i,b=c(this),f=b.offset(),h=a.pageX-f.left-u,k=!0,l=function(){var c=b.offset(),f=a.pageX-c.left-F/2,n=g*d.scrollPagePercent,o=t*n/(j-g);if(0>h)u-o>f?e.scrollByX(-n):eb(f);else{if(!(h>0))return m(),void 0;f>u+o?e.scrollByX(n):eb(f)}i=setTimeout(l,k?d.initialDelay:d.trackClickRepeatFreq),k=!1},m=function(){i&&clearTimeout(i),i=null,c(document).unbind("mouseup.jsp",m)};return l(),c(document).bind("mouseup.jsp",m),!1}})}function ab(){D&&D.unbind("mousedown.jsp"),w&&w.unbind("mousedown.jsp")}function bb(){c("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),p&&p.removeClass("jspActive"),s&&s.removeClass("jspActive")}function cb(b,f){var g,i,j,l,m,o;n&&(0>b?b=0:b>q&&(b=q),g=new c.Event("jsp-will-scroll-y"),a.trigger(g,[b]),g.isDefaultPrevented()||(i=b||0,j=0===i,l=i==q,m=b/q,o=-m*(k-h),void 0===f&&(f=d.animateScroll),f?e.animate(p,"top",b,db,function(){a.trigger("jsp-user-scroll-y",[-o,j,l])}):(p.css("top",b),db(b),a.trigger("jsp-user-scroll-y",[-o,j,l]))))}function db(b){void 0===b&&(b=p.position().top),i.scrollTop(0),r=b||0;var c=0===r,d=r==q,e=b/q,g=-e*(k-h);(M!=c||O!=d)&&(M=c,O=d,a.trigger("jsp-arrow-change",[M,O,N,P])),gb(c,d),f.css("top",g),a.trigger("jsp-scroll-y",[-g,c,d]).trigger("scroll")}function eb(b,f){var h,i,k,l,m,n;o&&(0>b?b=0:b>t&&(b=t),h=new c.Event("jsp-will-scroll-x"),a.trigger(h,[b]),h.isDefaultPrevented()||(i=b||0,k=0===i,l=i==t,m=b/t,n=-m*(j-g),void 0===f&&(f=d.animateScroll),f?e.animate(s,"left",b,fb,function(){a.trigger("jsp-user-scroll-x",[-n,k,l])}):(s.css("left",b),fb(b),a.trigger("jsp-user-scroll-x",[-n,k,l]))))}function fb(b){void 0===b&&(b=s.position().left),i.scrollTop(0),u=b||0;var c=0===u,d=u==t,e=b/t,h=-e*(j-g);(N!=c||P!=d)&&(N=c,P=d,a.trigger("jsp-arrow-change",[M,O,N,P])),hb(c,d),f.css("left",h),a.trigger("jsp-scroll-x",[-h,c,d]).trigger("scroll")}function gb(a,b){d.showArrows&&(A[a?"addClass":"removeClass"]("jspDisabled"),B[b?"addClass":"removeClass"]("jspDisabled"))}function hb(a,b){d.showArrows&&(G[a?"addClass":"removeClass"]("jspDisabled"),H[b?"addClass":"removeClass"]("jspDisabled"))}function ib(a,b){var c=a/(k-h);cb(c*q,b)}function jb(a,b){var c=a/(j-g);eb(c*t,b)}function kb(a,b,e){var f,j,k,n,o,p,q,r,s,l=0,m=0;try{f=c(a)}catch(t){return}for(j=f.outerHeight(),k=f.outerWidth(),i.scrollTop(0),i.scrollLeft(0);!f.is(".jspPane");)if(l+=f.position().top,m+=f.position().left,f=f.offsetParent(),/^body|html$/i.test(f[0].nodeName))return;n=mb(),p=n+h,n>l||b?r=l-d.horizontalGutter:l+j>p&&(r=l-h+j+d.horizontalGutter),isNaN(r)||ib(r,e),o=lb(),q=o+g,o>m||b?s=m-d.horizontalGutter:m+k>q&&(s=m-g+k+d.horizontalGutter),isNaN(s)||jb(s,e)}function lb(){return-f.position().left}function mb(){return-f.position().top}function nb(){var a=k-h;return a>20&&a-mb()<10}function ob(){var a=j-g;return a>20&&a-lb()<10}function pb(){i.unbind(R).bind(R,function(a,b,c,f){u||(u=0),r||(r=0);var g=u,h=r,i=a.deltaFactor||d.mouseWheelSpeed;return e.scrollBy(c*i,-f*i,!1),g==u&&h==r})}function qb(){i.unbind(R)}function rb(){return!1}function sb(){f.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){kb(a.target,!1)})}function tb(){f.find(":input,a").unbind("focus.jsp")}function ub(){function l(){var a=u,c=r;switch(b){case 40:e.scrollByY(d.keyboardSpeed,!1);break;case 38:e.scrollByY(-d.keyboardSpeed,!1);break;case 34:case 32:e.scrollByY(h*d.scrollPagePercent,!1);break;case 33:e.scrollByY(-h*d.scrollPagePercent,!1);break;case 39:e.scrollByX(d.keyboardSpeed,!1);break;case 37:e.scrollByX(-d.keyboardSpeed,!1)}return g=a!=u||c!=r}var b,g,j=[];o&&j.push(C[0]),n&&j.push(v[0]),f.bind("focus.jsp",function(){a.focus()}),a.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(a){if(a.target===this||j.length&&c(a.target).closest(j).length){var d=u,e=r;switch(a.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:b=a.keyCode,l();break;case 35:ib(k-h),b=null;break;case 36:ib(0),b=null}return g=a.keyCode==b&&d!=u||e!=r,!g}}).bind("keypress.jsp",function(a){return a.keyCode==b&&l(),a.target===this||j.length&&c(a.target).closest(j).length?!g:void 0}),d.hideFocus?(a.css("outline","none"),"hideFocus"in i[0]&&a.attr("hideFocus",!0)):(a.css("outline",""),"hideFocus"in i[0]&&a.attr("hideFocus",!1))}function vb(){a.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),f.unbind(".jsp")}function wb(){if(location.hash&&location.hash.length>1){var a,b,d=escape(location.hash.substr(1));try{a=c("#"+d+', a[name="'+d+'"]')}catch(e){return}a.length&&f.find(d)&&(0===i.scrollTop()?b=setInterval(function(){i.scrollTop()>0&&(kb(a,!0),c(document).scrollTop(i.position().top),clearInterval(b))},50):(kb(a,!0),c(document).scrollTop(i.position().top)))}}function xb(){c(document.body).data("jspHijack")||(c(document.body).data("jspHijack",!0),c(document.body).delegate('a[href*="#"]',"click",function(a){var e,f,g,h,i,j,b=this.href.substr(0,this.href.indexOf("#")),d=location.href;if(-1!==location.href.indexOf("#")&&(d=location.href.substr(0,location.href.indexOf("#"))),b===d){e=escape(this.href.substr(this.href.indexOf("#")+1));try{f=c("#"+e+', a[name="'+e+'"]')}catch(k){return}f.length&&(g=f.closest(".jspScrollable"),h=g.data("jsp"),h.scrollToElement(f,!0),g[0].scrollIntoView&&(i=c(window).scrollTop(),j=f.offset().top,(i>j||j>i+c(window).height())&&g[0].scrollIntoView()),a.preventDefault())}}))}function yb(){var a,b,c,d,f,g=!1;i.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var h=e.originalEvent.touches[0];a=lb(),b=mb(),c=h.pageX,d=h.pageY,f=!1,g=!0}).bind("touchmove.jsp",function(h){if(g){var i=h.originalEvent.touches[0],j=u,k=r;return e.scrollTo(a+c-i.pageX,b+d-i.pageY),f=f||Math.abs(c-i.pageX)>5||Math.abs(d-i.pageY)>5,j==u&&k==r}}).bind("touchend.jsp",function(){g=!1}).bind("click.jsp-touchclick",function(){return f?(f=!1,!1):void 0})}function zb(){var b=mb(),c=lb();a.removeClass("jspScrollable").unbind(".jsp"),f.unbind(".jsp"),a.replaceWith(Q.append(f.children())),Q.scrollTop(b),Q.scrollLeft(c),I&&clearInterval(I)}var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,e=this,M=!0,N=!0,O=!1,P=!1,Q=a.clone(!1,!1).empty(),R=c.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===a.css("box-sizing")?(J=0,K=0):(J=a.css("paddingTop")+" "+a.css("paddingRight")+" "+a.css("paddingBottom")+" "+a.css("paddingLeft"),K=(parseInt(a.css("paddingLeft"),10)||0)+(parseInt(a.css("paddingRight"),10)||0)),c.extend(e,{reinitialise:function(a){a=c.extend({},d,a),S(a)},scrollToElement:function(a,b,c){kb(a,b,c)},scrollTo:function(a,b,c){jb(a,c),ib(b,c)},scrollToX:function(a,b){jb(a,b)},scrollToY:function(a,b){ib(a,b)},scrollToPercentX:function(a,b){jb(a*(j-g),b)},scrollToPercentY:function(a,b){ib(a*(k-h),b)},scrollBy:function(a,b,c){e.scrollByX(a,c),e.scrollByY(b,c)},scrollByX:function(a,b){var c=lb()+Math[0>a?"floor":"ceil"](a),d=c/(j-g);eb(d*t,b)},scrollByY:function(a,b){var c=mb()+Math[0>a?"floor":"ceil"](a),d=c/(k-h);cb(d*q,b)},positionDragX:function(a,b){eb(a,b)},positionDragY:function(a,b){cb(a,b)},animate:function(a,b,c,e,f){var g={};g[b]=c,a.animate(g,{duration:d.animateDuration,easing:d.animateEase,queue:!1,step:e,complete:f})},getContentPositionX:function(){return lb()},getContentPositionY:function(){return mb()},getContentWidth:function(){return j},getContentHeight:function(){return k},getPercentScrolledX:function(){return lb()/(j-g)},getPercentScrolledY:function(){return mb()/(k-h)},getIsScrollableH:function(){return o},getIsScrollableV:function(){return n},getContentPane:function(){return f},scrollToBottom:function(a){cb(q,a)},hijackInternalLinks:c.noop,destroy:function(){zb()}}),S(b)}return a=c.extend({},c.fn.jScrollPane.defaults,a),c.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed}),this.each(function(){var d=c(this),e=d.data("jsp");e?e.reinitialise(a):(c("script",d).filter('[type="text/javascript"],:not([type])').remove(),e=new b(d,a),d.data("jsp",e))})},c.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});