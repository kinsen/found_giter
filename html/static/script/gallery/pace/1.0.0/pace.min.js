define("gallery/pace/1.0.0/pace.min",[],function(d,S,c){var L,A,f,E,C,N,g,ab,p,i,U,Z,X,K,aa,ac,b,P,H,D,T,j,r,t,Q,w,v,V,O,z,o,s,I,a,B,k,u,J,G,y,R,Y,W,x,q,n,M,m,e,F=[].slice,ad={}.hasOwnProperty,h=function(ah,af){for(var ae in af){if(ad.call(af,ae)){ah[ae]=af[ae]}}function ag(){this.constructor=ah}ag.prototype=af.prototype;ah.prototype=new ag();ah.__super__=af.prototype;return ah},l=[].indexOf||function(ag){for(var af=0,ae=this.length;af<ae;af++){if(af in this&&this[af]===ag){return af}}return -1};T={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:true,restartOnPushState:true,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:true,ignoreURLs:[]}};O=function(){var ae;return(ae=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?ae:+(new Date)};o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;D=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(o==null){o=function(ae){return setTimeout(ae,50)};D=function(ae){return clearTimeout(ae)}}I=function(af){var ag,ae;ag=O();ae=function(){var ah;ah=O()-ag;if(ah>=33){ag=O();return af(ah,function(){return o(ae)})}else{return setTimeout(ae,33-ah)}};return ae()};s=function(){var ae,af,ag;ag=arguments[0],af=arguments[1],ae=3<=arguments.length?F.call(arguments,2):[];if(typeof ag[af]==="function"){return ag[af].apply(ag,ae)}else{return ag[af]}};j=function(){var ah,ag,aj,af,ak,ai,ae;ag=arguments[0],af=2<=arguments.length?F.call(arguments,1):[];for(ai=0,ae=af.length;ai<ae;ai++){aj=af[ai];if(aj){for(ah in aj){if(!ad.call(aj,ah)){continue}ak=aj[ah];if((ag[ah]!=null)&&typeof ag[ah]==="object"&&(ak!=null)&&typeof ak==="object"){j(ag[ah],ak)}else{ag[ah]=ak}}}}return ag};b=function(ae){var ai,ah,ag,aj,af;ah=ai=0;for(aj=0,af=ae.length;aj<af;aj++){ag=ae[aj];ah+=Math.abs(ag);ai++}return ah/ai};t=function(af,ae){var ah,ai,ag;if(af==null){af="options"}if(ae==null){ae=true}ag=document.querySelector("[data-pace-"+af+"]");if(!ag){return}ah=ag.getAttribute("data-pace-"+af);if(!ae){return ah}try{return JSON.parse(ah)}catch(aj){ai=aj;return typeof console!=="undefined"&&console!==null?console.error("Error parsing inline pace options",ai):void 0}};g=(function(){function ae(){}ae.prototype.on=function(aj,ai,af,ah){var ag;if(ah==null){ah=false}if(this.bindings==null){this.bindings={}}if((ag=this.bindings)[aj]==null){ag[aj]=[]}return this.bindings[aj].push({handler:ai,ctx:af,once:ah})};ae.prototype.once=function(ah,ag,af){return this.on(ah,ag,af,true)};ae.prototype.off=function(ai,ah){var ag,aj,af;if(((aj=this.bindings)!=null?aj[ai]:void 0)==null){return}if(ah==null){return delete this.bindings[ai]}else{ag=0;af=[];while(ag<this.bindings[ai].length){if(this.bindings[ai][ag].handler===ah){af.push(this.bindings[ai].splice(ag,1))}else{af.push(ag++)}}return af}};ae.prototype.trigger=function(){var al,an,af,am,ak,ag,aj,ai,ah;af=arguments[0],al=2<=arguments.length?F.call(arguments,1):[];if((aj=this.bindings)!=null?aj[af]:void 0){ak=0;ah=[];while(ak<this.bindings[af].length){ai=this.bindings[af][ak],am=ai.handler,an=ai.ctx,ag=ai.once;am.apply(an!=null?an:this,al);if(ag){ah.push(this.bindings[af].splice(ak,1))}else{ah.push(ak++)}}return ah}};return ae})();i=window.Pace||{};window.Pace=i;j(i,g.prototype);z=i.options=j({},T,window.paceOptions,t());M=["ajax","document","eventLag","elements"];for(W=0,q=M.length;W<q;W++){u=M[W];if(z[u]===true){z[u]=T[u]}}p=(function(ae){h(af,ae);function af(){m=af.__super__.constructor.apply(this,arguments);return m}return af})(Error);A=(function(){function ae(){this.progress=0}ae.prototype.getElement=function(){var af;if(this.el==null){af=document.querySelector(z.target);if(!af){throw new p}this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';if(af.firstChild!=null){af.insertBefore(this.el,af.firstChild)}else{af.appendChild(this.el)}}return this.el};ae.prototype.finish=function(){var af;af=this.getElement();af.className=af.className.replace("pace-active","");af.className+=" pace-inactive";document.body.className=document.body.className.replace("pace-running","");return document.body.className+=" pace-done"};ae.prototype.update=function(af){this.progress=af;return this.render()};ae.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(af){p=af}return this.el=void 0};ae.prototype.render=function(){var aj,ai,af,ah,ak,ag,al;if(document.querySelector(z.target)==null){return false}aj=this.getElement();ah="translate3d("+this.progress+"%, 0, 0)";al=["webkitTransform","msTransform","transform"];for(ak=0,ag=al.length;ak<ag;ak++){ai=al[ak];aj.children[0].style[ai]=ah}if(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0){aj.children[0].setAttribute("data-progress-text",""+(this.progress|0)+"%");if(this.progress>=100){af="99"}else{af=this.progress<10?"0":"";af+=this.progress|0}aj.children[0].setAttribute("data-progress",""+af)}return this.lastRenderedProgress=this.progress};ae.prototype.done=function(){return this.progress>=100};return ae})();ab=(function(){function ae(){this.bindings={}}ae.prototype.trigger=function(ah,ak){var aj,ai,ag,al,af;if(this.bindings[ah]!=null){al=this.bindings[ah];af=[];for(ai=0,ag=al.length;ai<ag;ai++){aj=al[ai];af.push(aj.call(this,ak))}return af}};ae.prototype.on=function(af,ah){var ag;if((ag=this.bindings)[af]==null){ag[af]=[]}return this.bindings[af].push(ah)};return ae})();Y=window.XMLHttpRequest;R=window.XDomainRequest;y=window.WebSocket;r=function(ak,aj){var ag,af,ai,ae;ae=[];for(af in aj.prototype){try{ai=aj.prototype[af];if((ak[af]==null)&&typeof ai!=="function"){ae.push(ak[af]=ai)}else{ae.push(void 0)}}catch(ah){ag=ah}}return ae};v=[];i.ignore=function(){var af,ag,ae;ag=arguments[0],af=2<=arguments.length?F.call(arguments,1):[];v.unshift("ignore");ae=ag.apply(null,af);v.shift();return ae};i.track=function(){var af,ag,ae;ag=arguments[0],af=2<=arguments.length?F.call(arguments,1):[];v.unshift("track");ae=ag.apply(null,af);v.shift();return ae};k=function(af){var ae;if(af==null){af="GET"}if(v[0]==="track"){return"force"}if(!v.length&&z.ajax){if(af==="socket"&&z.ajax.trackWebSockets){return true}else{if(ae=af.toUpperCase(),l.call(z.ajax.trackMethods,ae)>=0){return true}}}return false};U=(function(ae){h(af,ae);function af(){var ag,ai=this;af.__super__.constructor.apply(this,arguments);ag=function(ak){var aj;aj=ak.open;return ak.open=function(an,al,am){if(k(an)){ai.trigger("request",{type:an,url:al,request:ak})}return aj.apply(ak,arguments)}};window.XMLHttpRequest=function(aj){var ak;ak=new Y(aj);ag(ak);return ak};try{r(window.XMLHttpRequest,Y)}catch(ah){}if(R!=null){window.XDomainRequest=function(){var aj;aj=new R;ag(aj);return aj};try{r(window.XDomainRequest,R)}catch(ah){}}if((y!=null)&&z.ajax.trackWebSockets){window.WebSocket=function(aj,al){var ak;if(al!=null){ak=new y(aj,al)}else{ak=new y(aj)}if(k("socket")){ai.trigger("request",{type:"socket",url:aj,protocols:al,request:ak})}return ak};try{r(window.WebSocket,y)}catch(ah){}}}return af})(ab);x=null;Q=function(){if(x==null){x=new U}return x};B=function(af){var ah,ag,ae,ai;ai=z.ajax.ignoreURLs;for(ag=0,ae=ai.length;ag<ae;ag++){ah=ai[ag];if(typeof ah==="string"){if(af.indexOf(ah)!==-1){return true}}else{if(ah.test(af)){return true}}}return false};Q().on("request",function(ae){var aj,ag,ai,ah,af;ah=ae.type,ai=ae.request,af=ae.url;if(B(af)){return}if(!i.running&&(z.restartOnRequestAfter!==false||k(ah)==="force")){ag=arguments;aj=z.restartOnRequestAfter||0;if(typeof aj==="boolean"){aj=0}return setTimeout(function(){var am,an,al,ap,ao,ak;if(ah==="socket"){am=ai.readyState<2}else{am=(0<(ap=ai.readyState)&&ap<4)}if(am){i.restart();ao=i.sources;ak=[];for(an=0,al=ao.length;an<al;an++){u=ao[an];if(u instanceof L){u.watch.apply(u,ag);break}else{ak.push(void 0)}}return ak}},aj)}});L=(function(){function ae(){var af=this;this.elements=[];Q().on("request",function(){return af.watch.apply(af,arguments)})}ae.prototype.watch=function(af){var aj,ai,ah,ag;ah=af.type,aj=af.request,ag=af.url;if(B(ag)){return}if(ah==="socket"){ai=new K(aj)}else{ai=new aa(aj)}return this.elements.push(ai)};return ae})();aa=(function(){function ae(ak){var aj,ag,ai,af,ah,am,al=this;this.progress=0;if(window.ProgressEvent!=null){ag=null;ak.addEventListener("progress",function(an){if(an.lengthComputable){return al.progress=100*an.loaded/an.total}else{return al.progress=al.progress+(100-al.progress)/2}},false);am=["load","abort","timeout","error"];for(ai=0,af=am.length;ai<af;ai++){aj=am[ai];ak.addEventListener(aj,function(){return al.progress=100},false)}}else{ah=ak.onreadystatechange;ak.onreadystatechange=function(){var an;if((an=ak.readyState)===0||an===4){al.progress=100}else{if(ak.readyState===3){al.progress=50}}return typeof ah==="function"?ah.apply(null,arguments):void 0}}}return ae})();K=(function(){function ae(ai){var ah,ag,af,ak,aj=this;this.progress=0;ak=["error","open"];for(ag=0,af=ak.length;ag<af;ag++){ah=ak[ag];ai.addEventListener(ah,function(){return aj.progress=100},false)}}return ae})();E=(function(){function ae(ah){var af,ai,ag,aj;if(ah==null){ah={}}this.elements=[];if(ah.selectors==null){ah.selectors=[]}aj=ah.selectors;for(ai=0,ag=aj.length;ai<ag;ai++){af=aj[ai];this.elements.push(new C(af))}}return ae})();C=(function(){function ae(af){this.selector=af;this.progress=0;this.check()}ae.prototype.check=function(){var af=this;if(document.querySelector(this.selector)){return this.done()}else{return setTimeout((function(){return af.check()}),z.elements.checkInterval)}};ae.prototype.done=function(){return this.progress=100};return ae})();f=(function(){ae.prototype.states={loading:0,interactive:50,complete:100};function ae(){var af,ah,ag=this;this.progress=(ah=this.states[document.readyState])!=null?ah:100;af=document.onreadystatechange;document.onreadystatechange=function(){if(ag.states[document.readyState]!=null){ag.progress=ag.states[document.readyState]}return typeof af==="function"?af.apply(null,arguments):void 0}}return ae})();N=(function(){function ae(){var aj,af,ai,ah,ag,ak=this;this.progress=0;aj=0;ag=[];ah=0;ai=O();af=setInterval(function(){var al;al=O()-ai-50;ai=O();ag.push(al);if(ag.length>z.eventLag.sampleCount){ag.shift()}aj=b(ag);if(++ah>=z.eventLag.minSamples&&aj<z.eventLag.lagThreshold){ak.progress=100;return clearInterval(af)}else{return ak.progress=100*(3/(aj+3))}},50)}return ae})();X=(function(){function ae(af){this.source=af;this.last=this.sinceLastUpdate=0;this.rate=z.initialRate;this.catchup=0;this.progress=this.lastProgress=0;if(this.source!=null){this.progress=s(this.source,"progress")}}ae.prototype.tick=function(ag,ah){var af;if(ah==null){ah=s(this.source,"progress")}if(ah>=100){this.done=true}if(ah===this.last){this.sinceLastUpdate+=ag}else{if(this.sinceLastUpdate){this.rate=(ah-this.last)/this.sinceLastUpdate}this.catchup=(ah-this.progress)/z.catchupTime;this.sinceLastUpdate=0;this.last=ah}if(ah>this.progress){this.progress+=this.catchup*ag}af=1-Math.pow(this.progress/100,z.easeFactor);this.progress+=af*this.rate*ag;this.progress=Math.min(this.lastProgress+z.maxProgressPerFrame,this.progress);this.progress=Math.max(0,this.progress);this.progress=Math.min(100,this.progress);this.lastProgress=this.progress;return this.progress};return ae})();J=null;a=null;P=null;G=null;ac=null;H=null;i.running=false;w=function(){if(z.restartOnPushState){return i.restart()}};if(window.history.pushState!=null){n=window.history.pushState;window.history.pushState=function(){w();return n.apply(window.history,arguments)}}if(window.history.replaceState!=null){e=window.history.replaceState;window.history.replaceState=function(){w();return e.apply(window.history,arguments)}}Z={ajax:L,elements:E,document:f,eventLag:N};(V=function(){var ah,ai,ag,af,ae,al,ak,aj;i.sources=J=[];al=["ajax","elements","document","eventLag"];for(ai=0,af=al.length;ai<af;ai++){ah=al[ai];if(z[ah]!==false){J.push(new Z[ah](z[ah]))}}aj=(ak=z.extraSources)!=null?ak:[];for(ag=0,ae=aj.length;ag<ae;ag++){u=aj[ag];J.push(new u(z))}i.bar=P=new A;a=[];return G=new X})();i.stop=function(){i.trigger("stop");i.running=false;P.destroy();H=true;if(ac!=null){if(typeof D==="function"){D(ac)}ac=null}return V()};i.restart=function(){i.trigger("restart");i.stop();return i.start()};i.go=function(){var ae;i.running=true;P.render();ae=O();H=false;return ac=I(function(ao,ag){var at,al,ar,ai,ap,av,au,aq,am,an,ak,ah,af,ax,aw,aj;aq=100-P.progress;al=ak=0;ar=true;for(av=ah=0,ax=J.length;ah<ax;av=++ah){u=J[av];an=a[av]!=null?a[av]:a[av]=[];ap=(aj=u.elements)!=null?aj:[u];for(au=af=0,aw=ap.length;af<aw;au=++af){ai=ap[au];am=an[au]!=null?an[au]:an[au]=new X(ai);ar&=am.done;if(am.done){continue}al++;ak+=am.tick(ao)}}at=ak/al;P.update(G.tick(ao,at));if(P.done()||ar||H){P.update(100);i.trigger("done");return setTimeout(function(){P.finish();i.running=false;return i.trigger("hide")},Math.max(z.ghostTime,Math.max(z.minTime-(O()-ae),0)))}else{return ag()}})};i.start=function(ae){j(z,ae);i.running=true;try{P.render()}catch(af){p=af}if(!document.querySelector(".pace")){return setTimeout(i.start,50)}else{i.trigger("start");return i.go()}};c.exports=i});